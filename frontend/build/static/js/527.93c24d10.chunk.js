"use strict";(self.webpackChunkfrontend=self.webpackChunkfrontend||[]).push([[527],{159:function(e,t,n){n.d(t,{tr:function(){return u},GW:function(){return l},Ir:function(){return p},ry:function(){return d},nM:function(){return f},nE:function(){return h},gL:function(){return v}});var r=n(5861),a=n(7757),o=n.n(a),s=n(9697),c=n(4569),i=n.n(c),u=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return function(){var t=(0,r.Z)(o().mark((function t(n){var r,a;return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,n({type:s.w8}),t.next=4,i().get("/api/products/".concat(e));case 4:r=t.sent,a=r.data,n({type:s.fu,payload:a}),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(0),n({type:s.cK,payload:t.t0.response&&t.t0.response.data.detail?t.t0.response.data.detail:t.t0.message});case 12:case"end":return t.stop()}}),t,null,[[0,9]])})));return function(e){return t.apply(this,arguments)}}()},l=function(e){return function(){var t=(0,r.Z)(o().mark((function t(n){var r,a;return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,n({type:s.Uy}),t.next=4,i().get("/api/products/".concat(e));case 4:r=t.sent,a=r.data,n({type:s.xe,payload:a}),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(0),n({type:s.gh,payload:t.t0.response&&t.t0.response.data.detail?t.t0.response.data.detail:t.t0.message});case 12:case"end":return t.stop()}}),t,null,[[0,9]])})));return function(e){return t.apply(this,arguments)}}()},p=function(e){return function(){var t=(0,r.Z)(o().mark((function t(n,r){var a,c,u,l,p;return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,n({type:s.o6}),a=r(),c=a.userLogin.userInfo,u={headers:{"Content-type":"application/json",Authorization:"Bearer ".concat(c.token)}},t.next=6,i().delete("/api/product/".concat(e,"/"),u);case 6:l=t.sent,p=l.data,n({type:s.Gd,payload:p}),t.next=14;break;case 11:t.prev=11,t.t0=t.catch(0),n({type:s.EP,payload:t.t0.response&&t.t0.response.data.detail?t.t0.response.data.detail:t.t0.message});case 14:case"end":return t.stop()}}),t,null,[[0,11]])})));return function(e,n){return t.apply(this,arguments)}}()},d=function(){return function(){var e=(0,r.Z)(o().mark((function e(t,n){var r,a,c,u,l;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t({type:s.tf}),r=n(),a=r.userLogin.userInfo,c={headers:{"Content-type":"application/json",Authorization:"Bearer ".concat(a.token)}},e.next=6,i().post("/api/product/".concat(0,"/"),{},c);case 6:u=e.sent,l=u.data,t({type:s.xx,payload:l}),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(0),t({type:s.X4,payload:e.t0.response&&e.t0.response.data.detail?e.t0.response.data.detail:e.t0.message});case 14:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(t,n){return e.apply(this,arguments)}}()},f=function(e){return function(){var t=(0,r.Z)(o().mark((function t(n,r){var a,c,u,l,p;return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,n({type:s.eP}),a=r(),c=a.userLogin.userInfo,u={headers:{"Content-type":"application/json",Authorization:"Bearer ".concat(c.token)}},t.next=6,i().put("/api/product/".concat(e._id,"/"),e,u);case 6:l=t.sent,p=l.data,n({type:s.n$,payload:p}),n({type:s.xe,payload:p}),t.next=15;break;case 12:t.prev=12,t.t0=t.catch(0),n({type:s.D1,payload:t.t0.response&&t.t0.response.data.detail?t.t0.response.data.detail:t.t0.message});case 15:case"end":return t.stop()}}),t,null,[[0,12]])})));return function(e,n){return t.apply(this,arguments)}}()},h=function(e,t){return function(){var n=(0,r.Z)(o().mark((function n(r,a){var c,u,l,p,d;return o().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,r({type:s.U8}),c=a(),u=c.userLogin.userInfo,l={headers:{"Content-type":"application/json",Authorization:"Bearer ".concat(u.token)}},n.next=6,i().post("/api/products/".concat(e,"/reviews/"),t,l);case 6:p=n.sent,d=p.data,r({type:s.rJ,payload:d}),n.next=14;break;case 11:n.prev=11,n.t0=n.catch(0),r({type:s._B,payload:n.t0.response&&n.t0.response.data.detail?n.t0.response.data.detail:n.t0.message});case 14:case"end":return n.stop()}}),n,null,[[0,11]])})));return function(e,t){return n.apply(this,arguments)}}()},v=function(){return function(){var e=(0,r.Z)(o().mark((function e(t){var n,r;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t({type:s.V5}),e.next=4,i().get("/api/products/top/");case 4:n=e.sent,r=n.data,t({type:s.QN,payload:r}),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),t({type:s.CH,payload:e.t0.response&&e.t0.response.data.detail?e.t0.response.data.detail:e.t0.message});case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t){return e.apply(this,arguments)}}()}},5524:function(e,t,n){n(2791);var r=n(7022),a=n(9743),o=n(2677),s=n(184);t.Z=function(e){var t=e.children;return(0,s.jsx)(r.Z,{children:(0,s.jsx)(a.Z,{className:"justify-content-md-center",children:(0,s.jsx)(o.Z,{xs:12,md:6,children:t})})})}},5006:function(e,t,n){n(2791);var r=n(2469),a=n(184);t.Z=function(e){var t=e.variant,n=e.children;return(0,a.jsx)(r.Z,{variant:t,children:n})}},4527:function(e,t,n){n.r(t);var r=n(5861),a=n(885),o=n(7757),s=n.n(o),c=n(2791),i=n(6871),u=n(3504),l=n(160),p=n(3360),d=n(2592),f=n(5006),h=n(6030),v=n(159),x=n(5524),y=n(9697),m=n(4569),Z=n.n(m),g=n(184);t.default=function(){var e=(0,h.I0)(),t=(0,i.s0)(),n=(0,i.bS)("/admin/product/:id/edit").params.id,o=(0,h.v9)((function(e){return e.productDetails})),m=o.product,j=o.error,b=o.loading,k=(0,h.v9)((function(e){return e.productUpdate})),C=k.error,w=k.loading,N=k.success,I=(0,c.useState)(""),L=(0,a.Z)(I,2),E=L[0],S=L[1],G=(0,c.useState)(0),P=(0,a.Z)(G,2),B=P[0],D=P[1],A=(0,c.useState)(""),_=(0,a.Z)(A,2),z=_[0],U=_[1],H=(0,c.useState)(""),R=(0,a.Z)(H,2),V=R[0],F=R[1],M=(0,c.useState)(""),O=(0,a.Z)(M,2),T=O[0],W=O[1],J=(0,c.useState)(0),K=(0,a.Z)(J,2),Q=K[0],X=K[1],$=(0,c.useState)(""),q=(0,a.Z)($,2),Y=q[0],ee=q[1],te=(0,c.useState)(""),ne=(0,a.Z)(te,2),re=ne[0],ae=ne[1];(0,c.useEffect)((function(){N?(e({type:y.Tk}),t("/admin/productlist")):m.name&&m._id===Number(n)?(S(m.name),D(m.price),W(m.category),U(m.image),X(m.countInStock),F(m.brand),ee(m.description)):e((0,v.GW)(n))}),[m,n,t,e,N]);var oe=function(){var e=(0,r.Z)(s().mark((function e(t){var r,a,o,c,i;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.target.files[0],(a=new FormData).append("image",r),a.append("product_id",n),ae(!0),e.prev=5,o={headers:{"Content-Type":"multipart/form-data"}},e.next=9,Z().post("/api/products/upload/",a,o);case 9:c=e.sent,i=c.data,U(i),ae(!1),e.next=18;break;case 15:e.prev=15,e.t0=e.catch(5),ae(!1);case 18:case"end":return e.stop()}}),e,null,[[5,15]])})));return function(t){return e.apply(this,arguments)}}();return(0,g.jsxs)(c.Fragment,{children:[(0,g.jsx)(u.Link,{to:"/admin/productlist",children:"Go Back"}),(0,g.jsxs)(x.Z,{children:[(0,g.jsx)("h1",{children:"Edit Product"}),w&&(0,g.jsx)(d.Z,{}),C&&(0,g.jsx)(f.Z,{variant:"danger",children:C}),b?(0,g.jsx)(d.Z,{}):j?(0,g.jsx)(f.Z,{variant:"danger",children:j}):(0,g.jsxs)(l.Z,{onSubmit:function(t){t.preventDefault(),e((0,v.nM)({_id:n,name:E,price:B,image:z,brand:V,category:T,countInStock:Q,description:Y}))},children:[(0,g.jsxs)(l.Z.Group,{controlId:"name",className:"my-2",children:[(0,g.jsx)(l.Z.Label,{children:"Name"}),(0,g.jsx)(l.Z.Control,{type:"name",placeholder:"Enter Name",value:E,onChange:function(e){return S(e.target.value)}})]}),(0,g.jsxs)(l.Z.Group,{controlId:"price",className:"my-2",children:[(0,g.jsx)(l.Z.Label,{children:"Price"}),(0,g.jsx)(l.Z.Control,{type:"number",placeholder:"Enter Price",value:B,onChange:function(e){return D(e.target.value)}})]}),(0,g.jsxs)(l.Z.Group,{controlId:"image",className:"my-2",children:[(0,g.jsx)(l.Z.Label,{children:"Image"}),(0,g.jsx)(l.Z.Control,{type:"text",placeholder:"Enter Price",value:z,onChange:function(e){return U(e.target.value)}}),(0,g.jsx)(l.Z.Group,{controlId:"image",className:"mb-3",children:(0,g.jsx)(l.Z.Control,{type:"file",placeholder:"Enter Price",onChange:function(e){return oe(e)}})}),re&&(0,g.jsx)(d.Z,{})]}),(0,g.jsxs)(l.Z.Group,{controlId:"brand",className:"my-2",children:[(0,g.jsx)(l.Z.Label,{children:"Brand"}),(0,g.jsx)(l.Z.Control,{type:"text",placeholder:"Enter Brand",value:V,onChange:function(e){return F(e.target.value)}})]}),(0,g.jsxs)(l.Z.Group,{controlId:"countinstock",className:"my-2",children:[(0,g.jsx)(l.Z.Label,{children:"Stock"}),(0,g.jsx)(l.Z.Control,{type:"number",placeholder:"Enter Stock",value:Q,onChange:function(e){return X(e.target.value)}})]}),(0,g.jsxs)(l.Z.Group,{controlId:"category",className:"my-2",children:[(0,g.jsx)(l.Z.Label,{children:"Category"}),(0,g.jsx)(l.Z.Control,{type:"text",placeholder:"Enter Category",value:T,onChange:function(e){return W(e.target.value)}})]}),(0,g.jsxs)(l.Z.Group,{controlId:"description",className:"my-2",children:[(0,g.jsx)(l.Z.Label,{children:"Description"}),(0,g.jsx)(l.Z.Control,{type:"text",placeholder:"Enter Description",value:Y,onChange:function(e){return ee(e.target.value)}})]}),(0,g.jsx)(p.Z,{type:"submit",variant:"primary",className:"my-2",children:"Update"})]})]})]})}},2469:function(e,t,n){var r=n(1413),a=n(5987),o=n(1694),s=n.n(o),c=n(2791),i=n(239),u=n(9007),l=n(6445),p=n(162),d=n(2709),f=n(473),h=n(7472),v=n(6543),x=n(184),y=["bsPrefix","show","closeLabel","closeVariant","className","children","variant","onClose","dismissible","transition"],m=(0,h.Z)("h4");m.displayName="DivStyledAsH4";var Z=(0,v.Z)("alert-heading",{Component:m}),g=(0,v.Z)("alert-link",{Component:l.Z}),j={variant:"primary",show:!0,transition:d.Z,closeLabel:"Close alert"},b=c.forwardRef((function(e,t){var n=(0,i.Ch)(e,{show:"onClose"}),o=n.bsPrefix,c=n.show,l=n.closeLabel,h=n.closeVariant,v=n.className,m=n.children,Z=n.variant,g=n.onClose,j=n.dismissible,b=n.transition,k=(0,a.Z)(n,y),C=(0,p.vE)(o,"alert"),w=(0,u.Z)((function(e){g&&g(!1,e)})),N=!0===b?d.Z:b,I=(0,x.jsxs)("div",(0,r.Z)((0,r.Z)({role:"alert"},N?void 0:k),{},{ref:t,className:s()(v,C,Z&&"".concat(C,"-").concat(Z),j&&"".concat(C,"-dismissible")),children:[j&&(0,x.jsx)(f.Z,{onClick:w,"aria-label":l,variant:h}),m]}));return N?(0,x.jsx)(N,(0,r.Z)((0,r.Z)({unmountOnExit:!0},k),{},{ref:void 0,in:c,children:I})):c?I:null}));b.displayName="Alert",b.defaultProps=j,t.Z=Object.assign(b,{Link:g,Heading:Z})},9743:function(e,t,n){var r=n(1413),a=n(5987),o=n(1694),s=n.n(o),c=n(2791),i=n(162),u=n(184),l=["bsPrefix","className","as"],p=["xxl","xl","lg","md","sm","xs"],d=c.forwardRef((function(e,t){var n=e.bsPrefix,o=e.className,c=e.as,d=void 0===c?"div":c,f=(0,a.Z)(e,l),h=(0,i.vE)(n,"row"),v="".concat(h,"-cols"),x=[];return p.forEach((function(e){var t,n=f[e];delete f[e],t=null!=n&&"object"===typeof n?n.cols:n;var r="xs"!==e?"-".concat(e):"";null!=t&&x.push("".concat(v).concat(r,"-").concat(t))})),(0,u.jsx)(d,(0,r.Z)((0,r.Z)({ref:t},f),{},{className:s().apply(void 0,[o,h].concat(x))}))}));d.displayName="Row",t.Z=d}}]);
//# sourceMappingURL=527.93c24d10.chunk.js.map