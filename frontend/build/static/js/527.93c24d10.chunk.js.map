{"version":3,"file":"static/js/527.93c24d10.chunk.js","mappings":"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","sources":["actions/productActions.js","components/FormContainer.js","components/Message.js","screens/ProductEditScreen.js","../node_modules/react-bootstrap/esm/Alert.js","../node_modules/react-bootstrap/esm/Row.js"],"sourcesContent":["import * as actionTypes from \"../constants/productConstants\";\nimport axios from \"axios\";\n\nexport const listProducts =\n  (keyword = \"\") =>\n  async (dispatch) => {\n    try {\n      dispatch({ type: actionTypes.PRODUCT_LIST_REQUEST });\n      const { data } = await axios.get(`/api/products/${keyword}`);\n      dispatch({ type: actionTypes.PRODUCT_LIST_SUCCESS, payload: data });\n    } catch (error) {\n      dispatch({\n        type: actionTypes.PRODUCT_LIST_FAIL,\n        payload:\n          error.response && error.response.data.detail\n            ? error.response.data.detail\n            : error.message,\n      });\n    }\n  };\n\nexport const listProductDetails = (id) => async (dispatch) => {\n  try {\n    dispatch({ type: actionTypes.PRODUCT_DETAILS_REQUEST });\n    const { data } = await axios.get(`/api/products/${id}`);\n    dispatch({ type: actionTypes.PRODUCT_DETAILS_SUCCESS, payload: data });\n  } catch (error) {\n    dispatch({\n      type: actionTypes.PRODUCT_DETAILS_FAIL,\n      payload:\n        error.response && error.response.data.detail\n          ? error.response.data.detail\n          : error.message,\n    });\n  }\n};\n\nexport const deleteProduct = (id) => async (dispatch, getState) => {\n  try {\n    dispatch({\n      type: actionTypes.PRODUCT_DELETE_REQUEST,\n    });\n\n    const {\n      userLogin: { userInfo },\n    } = getState();\n\n    const config = {\n      headers: {\n        \"Content-type\": \"application/json\",\n        Authorization: `Bearer ${userInfo.token}`,\n      },\n    };\n\n    const { data } = await axios.delete(`/api/product/${id}/`, config);\n\n    dispatch({\n      type: actionTypes.PRODUCT_DELETE_SUCCESS,\n      payload: data,\n    });\n  } catch (error) {\n    dispatch({\n      type: actionTypes.PRODUCT_DELETE_FAIL,\n      payload:\n        error.response && error.response.data.detail\n          ? error.response.data.detail\n          : error.message,\n    });\n  }\n};\n\nexport const createProduct = () => async (dispatch, getState) => {\n  try {\n    dispatch({\n      type: actionTypes.PRODUCT_CREATE_REQUEST,\n    });\n\n    const {\n      userLogin: { userInfo },\n    } = getState();\n\n    const config = {\n      headers: {\n        \"Content-type\": \"application/json\",\n        Authorization: `Bearer ${userInfo.token}`,\n      },\n    };\n\n    const { data } = await axios.post(`/api/product/${0}/`, {}, config);\n\n    dispatch({\n      type: actionTypes.PRODUCT_CREATE_SUCCESS,\n      payload: data,\n    });\n  } catch (error) {\n    dispatch({\n      type: actionTypes.PRODUCT_CREATE_FAIL,\n      payload:\n        error.response && error.response.data.detail\n          ? error.response.data.detail\n          : error.message,\n    });\n  }\n};\n\nexport const updateProduct = (product) => async (dispatch, getState) => {\n  try {\n    dispatch({\n      type: actionTypes.PRODUCT_UPDATE_REQUEST,\n    });\n\n    const {\n      userLogin: { userInfo },\n    } = getState();\n\n    const config = {\n      headers: {\n        \"Content-type\": \"application/json\",\n        Authorization: `Bearer ${userInfo.token}`,\n      },\n    };\n\n    const { data } = await axios.put(\n      `/api/product/${product._id}/`,\n      product,\n      config\n    );\n\n    dispatch({\n      type: actionTypes.PRODUCT_UPDATE_SUCCESS,\n      payload: data,\n    });\n\n    dispatch({\n      type: actionTypes.PRODUCT_DETAILS_SUCCESS,\n      payload: data,\n    });\n  } catch (error) {\n    dispatch({\n      type: actionTypes.PRODUCT_UPDATE_FAIL,\n      payload:\n        error.response && error.response.data.detail\n          ? error.response.data.detail\n          : error.message,\n    });\n  }\n};\n\nexport const createProductReview =\n  (productId, review) => async (dispatch, getState) => {\n    try {\n      dispatch({\n        type: actionTypes.PRODUCT_CREATE_REVIEW_REQUEST,\n      });\n\n      const {\n        userLogin: { userInfo },\n      } = getState();\n\n      const config = {\n        headers: {\n          \"Content-type\": \"application/json\",\n          Authorization: `Bearer ${userInfo.token}`,\n        },\n      };\n\n      const { data } = await axios.post(\n        `/api/products/${productId}/reviews/`,\n        review,\n        config\n      );\n\n      dispatch({\n        type: actionTypes.PRODUCT_CREATE_REVIEW_SUCCESS,\n        payload: data,\n      });\n    } catch (error) {\n      dispatch({\n        type: actionTypes.PRODUCT_CREATE_REVIEW_FAIL,\n        payload:\n          error.response && error.response.data.detail\n            ? error.response.data.detail\n            : error.message,\n      });\n    }\n  };\n\nexport const listTopProducts = () => async (dispatch) => {\n  try {\n    dispatch({ type: actionTypes.PRODUCT_TOP_REQUEST });\n    const { data } = await axios.get(`/api/products/top/`);\n    dispatch({ type: actionTypes.PRODUCT_TOP_SUCCESS, payload: data });\n  } catch (error) {\n    dispatch({\n      type: actionTypes.PRODUCT_TOP_FAIL,\n      payload:\n        error.response && error.response.data.detail\n          ? error.response.data.detail\n          : error.message,\n    });\n  }\n};\n","import React from \"react\";\nimport { Container, Row, Col } from \"react-bootstrap\";\n\nfunction FormContainer({ children }) {\n  return (\n    <Container>\n      <Row className=\"justify-content-md-center\">\n        <Col xs={12} md={6}>\n          {children}\n        </Col>\n      </Row>\n    </Container>\n  );\n}\n\nexport default FormContainer;\n","import React from \"react\";\nimport { Alert } from \"react-bootstrap\";\n\nfunction Message({ variant, children }) {\n  return <Alert variant={variant}>{children}</Alert>;\n}\n\nexport default Message;\n","import React, { useState, useEffect } from \"react\";\r\nimport { Link, useNavigate, useMatch } from \"react-router-dom\";\r\nimport { Form, Button } from \"react-bootstrap\";\r\nimport Loader from \"../components/Loader\";\r\nimport Message from \"../components/Message\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport { listProductDetails, updateProduct } from \"../actions/productActions\";\r\nimport FormContainer from \"../components/FormContainer\";\r\nimport { PRODUCT_UPDATE_RESET } from \"../constants/productConstants\";\r\nimport axios from \"axios\";\r\n\r\nfunction ProductEditScreen() {\r\n  const dispatch = useDispatch();\r\n  const navigate = useNavigate();\r\n  const match = useMatch(\"/admin/product/:id/edit\");\r\n  const productId = match.params.id;\r\n\r\n  const productDetails = useSelector((state) => state.productDetails);\r\n  const { product, error, loading } = productDetails;\r\n\r\n  const productUpdate = useSelector((state) => state.productUpdate);\r\n  const {\r\n    error: errorUpdate,\r\n    loading: loadingUpdate,\r\n    success: successUpdate,\r\n  } = productUpdate;\r\n\r\n  const [name, setName] = useState(\"\");\r\n  const [price, setPrice] = useState(0);\r\n  const [image, setImage] = useState(\"\");\r\n  const [brand, setBrand] = useState(\"\");\r\n  const [category, setCategory] = useState(\"\");\r\n  const [countInStock, setCountInStock] = useState(0);\r\n  const [description, setDescription] = useState(\"\");\r\n  const [uploading, setUploading] = useState(\"\");\r\n\r\n  useEffect(() => {\r\n    if (successUpdate) {\r\n      dispatch({ type: PRODUCT_UPDATE_RESET });\r\n      navigate(\"/admin/productlist\");\r\n    } else {\r\n      if (!product.name || product._id !== Number(productId)) {\r\n        dispatch(listProductDetails(productId));\r\n      } else {\r\n        setName(product.name);\r\n        setPrice(product.price);\r\n        setCategory(product.category);\r\n        setImage(product.image);\r\n        setCountInStock(product.countInStock);\r\n        setBrand(product.brand);\r\n        setDescription(product.description);\r\n      }\r\n    }\r\n  }, [product, productId, navigate, dispatch, successUpdate]);\r\n\r\n  const submitHandler = (e) => {\r\n    e.preventDefault();\r\n    dispatch(\r\n      updateProduct({\r\n        _id: productId,\r\n        name,\r\n        price,\r\n        image,\r\n        brand,\r\n        category,\r\n        countInStock,\r\n        description,\r\n      })\r\n    );\r\n  };\r\n\r\n  const uploadFileHandler = async (e) => {\r\n    const file = e.target.files[0];\r\n    const formData = new FormData();\r\n    formData.append(\"image\", file);\r\n    formData.append(\"product_id\", productId);\r\n\r\n    setUploading(true);\r\n\r\n    try {\r\n      const config = {\r\n        headers: {\r\n          \"Content-Type\": \"multipart/form-data\",\r\n        },\r\n      };\r\n\r\n      const { data } = await axios.post(\r\n        \"/api/products/upload/\",\r\n        formData,\r\n        config\r\n      );\r\n      setImage(data);\r\n      setUploading(false);\r\n    } catch (ererrorr) {\r\n      setUploading(false);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <React.Fragment>\r\n      <Link to=\"/admin/productlist\">Go Back</Link>\r\n      <FormContainer>\r\n        <h1>Edit Product</h1>\r\n        {loadingUpdate && <Loader />}\r\n        {errorUpdate && <Message variant=\"danger\">{errorUpdate}</Message>}\r\n\r\n        {loading ? (\r\n          <Loader />\r\n        ) : error ? (\r\n          <Message variant=\"danger\">{error}</Message>\r\n        ) : (\r\n          <Form onSubmit={submitHandler}>\r\n            <Form.Group controlId=\"name\" className=\"my-2\">\r\n              <Form.Label>Name</Form.Label>\r\n              <Form.Control\r\n                type=\"name\"\r\n                placeholder=\"Enter Name\"\r\n                value={name}\r\n                onChange={(e) => setName(e.target.value)}\r\n              ></Form.Control>\r\n            </Form.Group>\r\n\r\n            <Form.Group controlId=\"price\" className=\"my-2\">\r\n              <Form.Label>Price</Form.Label>\r\n              <Form.Control\r\n                type=\"number\"\r\n                placeholder=\"Enter Price\"\r\n                value={price}\r\n                onChange={(e) => setPrice(e.target.value)}\r\n              ></Form.Control>\r\n            </Form.Group>\r\n\r\n            <Form.Group controlId=\"image\" className=\"my-2\">\r\n              <Form.Label>Image</Form.Label>\r\n              <Form.Control\r\n                type=\"text\"\r\n                placeholder=\"Enter Price\"\r\n                value={image}\r\n                onChange={(e) => setImage(e.target.value)}\r\n              ></Form.Control>\r\n              <Form.Group controlId=\"image\" className=\"mb-3\">\r\n                <Form.Control\r\n                  type=\"file\"\r\n                  placeholder=\"Enter Price\"\r\n                  onChange={(e) => uploadFileHandler(e)}\r\n                />\r\n              </Form.Group>\r\n              {uploading && <Loader />}\r\n            </Form.Group>\r\n\r\n            <Form.Group controlId=\"brand\" className=\"my-2\">\r\n              <Form.Label>Brand</Form.Label>\r\n              <Form.Control\r\n                type=\"text\"\r\n                placeholder=\"Enter Brand\"\r\n                value={brand}\r\n                onChange={(e) => setBrand(e.target.value)}\r\n              ></Form.Control>\r\n            </Form.Group>\r\n\r\n            <Form.Group controlId=\"countinstock\" className=\"my-2\">\r\n              <Form.Label>Stock</Form.Label>\r\n              <Form.Control\r\n                type=\"number\"\r\n                placeholder=\"Enter Stock\"\r\n                value={countInStock}\r\n                onChange={(e) => setCountInStock(e.target.value)}\r\n              ></Form.Control>\r\n            </Form.Group>\r\n\r\n            <Form.Group controlId=\"category\" className=\"my-2\">\r\n              <Form.Label>Category</Form.Label>\r\n              <Form.Control\r\n                type=\"text\"\r\n                placeholder=\"Enter Category\"\r\n                value={category}\r\n                onChange={(e) => setCategory(e.target.value)}\r\n              ></Form.Control>\r\n            </Form.Group>\r\n\r\n            <Form.Group controlId=\"description\" className=\"my-2\">\r\n              <Form.Label>Description</Form.Label>\r\n              <Form.Control\r\n                type=\"text\"\r\n                placeholder=\"Enter Description\"\r\n                value={description}\r\n                onChange={(e) => setDescription(e.target.value)}\r\n              ></Form.Control>\r\n            </Form.Group>\r\n\r\n            <Button type=\"submit\" variant=\"primary\" className=\"my-2\">\r\n              Update\r\n            </Button>\r\n          </Form>\r\n        )}\r\n      </FormContainer>\r\n    </React.Fragment>\r\n  );\r\n}\r\n\r\nexport default ProductEditScreen;\r\n","import classNames from 'classnames';\nimport * as React from 'react';\nimport { useUncontrolled } from 'uncontrollable';\nimport useEventCallback from '@restart/hooks/useEventCallback';\nimport Anchor from '@restart/ui/Anchor';\nimport { useBootstrapPrefix } from './ThemeProvider';\nimport Fade from './Fade';\nimport CloseButton from './CloseButton';\nimport divWithClassName from './divWithClassName';\nimport createWithBsPrefix from './createWithBsPrefix';\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\nconst DivStyledAsH4 = divWithClassName('h4');\nDivStyledAsH4.displayName = 'DivStyledAsH4';\nconst AlertHeading = createWithBsPrefix('alert-heading', {\n  Component: DivStyledAsH4\n});\nconst AlertLink = createWithBsPrefix('alert-link', {\n  Component: Anchor\n});\nconst defaultProps = {\n  variant: 'primary',\n  show: true,\n  transition: Fade,\n  closeLabel: 'Close alert'\n};\nconst Alert = /*#__PURE__*/React.forwardRef((uncontrolledProps, ref) => {\n  const {\n    bsPrefix,\n    show,\n    closeLabel,\n    closeVariant,\n    className,\n    children,\n    variant,\n    onClose,\n    dismissible,\n    transition,\n    ...props\n  } = useUncontrolled(uncontrolledProps, {\n    show: 'onClose'\n  });\n  const prefix = useBootstrapPrefix(bsPrefix, 'alert');\n  const handleClose = useEventCallback(e => {\n    if (onClose) {\n      onClose(false, e);\n    }\n  });\n  const Transition = transition === true ? Fade : transition;\n\n  const alert = /*#__PURE__*/_jsxs(\"div\", {\n    role: \"alert\",\n    ...(!Transition ? props : undefined),\n    ref: ref,\n    className: classNames(className, prefix, variant && `${prefix}-${variant}`, dismissible && `${prefix}-dismissible`),\n    children: [dismissible && /*#__PURE__*/_jsx(CloseButton, {\n      onClick: handleClose,\n      \"aria-label\": closeLabel,\n      variant: closeVariant\n    }), children]\n  });\n\n  if (!Transition) return show ? alert : null;\n  return /*#__PURE__*/_jsx(Transition, {\n    unmountOnExit: true,\n    ...props,\n    ref: undefined,\n    in: show,\n    children: alert\n  });\n});\nAlert.displayName = 'Alert';\nAlert.defaultProps = defaultProps;\nexport default Object.assign(Alert, {\n  Link: AlertLink,\n  Heading: AlertHeading\n});","import classNames from 'classnames';\nimport * as React from 'react';\nimport { useBootstrapPrefix } from './ThemeProvider';\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nconst DEVICE_SIZES = ['xxl', 'xl', 'lg', 'md', 'sm', 'xs'];\nconst Row = /*#__PURE__*/React.forwardRef(({\n  bsPrefix,\n  className,\n  // Need to define the default \"as\" during prop destructuring to be compatible with styled-components github.com/react-bootstrap/react-bootstrap/issues/3595\n  as: Component = 'div',\n  ...props\n}, ref) => {\n  const decoratedBsPrefix = useBootstrapPrefix(bsPrefix, 'row');\n  const sizePrefix = `${decoratedBsPrefix}-cols`;\n  const classes = [];\n  DEVICE_SIZES.forEach(brkPoint => {\n    const propValue = props[brkPoint];\n    delete props[brkPoint];\n    let cols;\n\n    if (propValue != null && typeof propValue === 'object') {\n      ({\n        cols\n      } = propValue);\n    } else {\n      cols = propValue;\n    }\n\n    const infix = brkPoint !== 'xs' ? `-${brkPoint}` : '';\n    if (cols != null) classes.push(`${sizePrefix}${infix}-${cols}`);\n  });\n  return /*#__PURE__*/_jsx(Component, {\n    ref: ref,\n    ...props,\n    className: classNames(className, decoratedBsPrefix, ...classes)\n  });\n});\nRow.displayName = 'Row';\nexport default Row;"],"names":["listProducts","keyword","dispatch","type","actionTypes","axios","data","payload","response","detail","message","listProductDetails","id","deleteProduct","getState","userInfo","userLogin","config","headers","Authorization","token","createProduct","updateProduct","product","_id","createProductReview","productId","review","listTopProducts","children","className","xs","md","variant","useDispatch","navigate","useNavigate","useMatch","params","productDetails","useSelector","state","error","loading","productUpdate","errorUpdate","loadingUpdate","successUpdate","success","useState","name","setName","price","setPrice","image","setImage","brand","setBrand","category","setCategory","countInStock","setCountInStock","description","setDescription","uploading","setUploading","useEffect","PRODUCT_UPDATE_RESET","Number","uploadFileHandler","e","file","target","files","formData","FormData","append","Link","to","onSubmit","preventDefault","controlId","placeholder","value","onChange","DivStyledAsH4","divWithClassName","displayName","AlertHeading","createWithBsPrefix","Component","AlertLink","Anchor","defaultProps","show","transition","Fade","closeLabel","Alert","React","uncontrolledProps","ref","useUncontrolled","bsPrefix","closeVariant","onClose","dismissible","props","prefix","useBootstrapPrefix","handleClose","useEventCallback","Transition","alert","_jsxs","role","undefined","classNames","_jsx","CloseButton","onClick","unmountOnExit","in","Object","assign","Heading","DEVICE_SIZES","Row","as","decoratedBsPrefix","sizePrefix","classes","forEach","brkPoint","cols","propValue","infix","push"],"sourceRoot":""}