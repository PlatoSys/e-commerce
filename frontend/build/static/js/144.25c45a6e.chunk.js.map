{"version":3,"file":"static/js/144.25c45a6e.chunk.js","mappings":"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","sources":["actions/productActions.js","components/Message.js","components/Rating.js","screens/ProductScreen.js"],"sourcesContent":["import * as actionTypes from \"../constants/productConstants\";\r\nimport axios from \"axios\";\r\n\r\nexport const listProducts =\r\n  (keyword = \"\") =>\r\n  async (dispatch) => {\r\n    try {\r\n      dispatch({ type: actionTypes.PRODUCT_LIST_REQUEST });\r\n      const { data } = await axios.get(`/api/products/${keyword}`);\r\n      dispatch({ type: actionTypes.PRODUCT_LIST_SUCCESS, payload: data });\r\n    } catch (error) {\r\n      dispatch({\r\n        type: actionTypes.PRODUCT_LIST_FAIL,\r\n        payload:\r\n          error.response && error.response.data.detail\r\n            ? error.response.data.detail\r\n            : error.message,\r\n      });\r\n    }\r\n  };\r\n\r\nexport const listProductDetails = (id) => async (dispatch) => {\r\n  try {\r\n    dispatch({ type: actionTypes.PRODUCT_DETAILS_REQUEST });\r\n    const { data } = await axios.get(`/api/products/${id}`);\r\n    dispatch({ type: actionTypes.PRODUCT_DETAILS_SUCCESS, payload: data });\r\n  } catch (error) {\r\n    dispatch({\r\n      type: actionTypes.PRODUCT_DETAILS_FAIL,\r\n      payload:\r\n        error.response && error.response.data.detail\r\n          ? error.response.data.detail\r\n          : error.message,\r\n    });\r\n  }\r\n};\r\n\r\nexport const deleteProduct = (id) => async (dispatch, getState) => {\r\n  try {\r\n    dispatch({\r\n      type: actionTypes.PRODUCT_DELETE_REQUEST,\r\n    });\r\n\r\n    const {\r\n      userLogin: { userInfo },\r\n    } = getState();\r\n\r\n    const config = {\r\n      headers: {\r\n        \"Content-type\": \"application/json\",\r\n        Authorization: `Bearer ${userInfo.token}`,\r\n      },\r\n    };\r\n\r\n    const { data } = await axios.delete(`/api/product/${id}/`, config);\r\n\r\n    dispatch({\r\n      type: actionTypes.PRODUCT_DELETE_SUCCESS,\r\n      payload: data,\r\n    });\r\n  } catch (error) {\r\n    dispatch({\r\n      type: actionTypes.PRODUCT_DELETE_FAIL,\r\n      payload:\r\n        error.response && error.response.data.detail\r\n          ? error.response.data.detail\r\n          : error.message,\r\n    });\r\n  }\r\n};\r\n\r\nexport const createProduct = () => async (dispatch, getState) => {\r\n  try {\r\n    dispatch({\r\n      type: actionTypes.PRODUCT_CREATE_REQUEST,\r\n    });\r\n\r\n    const {\r\n      userLogin: { userInfo },\r\n    } = getState();\r\n\r\n    const config = {\r\n      headers: {\r\n        \"Content-type\": \"application/json\",\r\n        Authorization: `Bearer ${userInfo.token}`,\r\n      },\r\n    };\r\n\r\n    const { data } = await axios.post(`/api/product/${0}/`, {}, config);\r\n\r\n    dispatch({\r\n      type: actionTypes.PRODUCT_CREATE_SUCCESS,\r\n      payload: data,\r\n    });\r\n  } catch (error) {\r\n    dispatch({\r\n      type: actionTypes.PRODUCT_CREATE_FAIL,\r\n      payload:\r\n        error.response && error.response.data.detail\r\n          ? error.response.data.detail\r\n          : error.message,\r\n    });\r\n  }\r\n};\r\n\r\nexport const updateProduct = (product) => async (dispatch, getState) => {\r\n  try {\r\n    dispatch({\r\n      type: actionTypes.PRODUCT_UPDATE_REQUEST,\r\n    });\r\n\r\n    const {\r\n      userLogin: { userInfo },\r\n    } = getState();\r\n\r\n    const config = {\r\n      headers: {\r\n        \"Content-type\": \"application/json\",\r\n        Authorization: `Bearer ${userInfo.token}`,\r\n      },\r\n    };\r\n\r\n    const { data } = await axios.put(\r\n      `/api/product/${product._id}/`,\r\n      product,\r\n      config\r\n    );\r\n\r\n    dispatch({\r\n      type: actionTypes.PRODUCT_UPDATE_SUCCESS,\r\n      payload: data,\r\n    });\r\n\r\n    dispatch({\r\n      type: actionTypes.PRODUCT_DETAILS_SUCCESS,\r\n      payload: data,\r\n    });\r\n  } catch (error) {\r\n    dispatch({\r\n      type: actionTypes.PRODUCT_UPDATE_FAIL,\r\n      payload:\r\n        error.response && error.response.data.detail\r\n          ? error.response.data.detail\r\n          : error.message,\r\n    });\r\n  }\r\n};\r\n\r\nexport const createProductReview =\r\n  (productId, review) => async (dispatch, getState) => {\r\n    try {\r\n      dispatch({\r\n        type: actionTypes.PRODUCT_CREATE_REVIEW_REQUEST,\r\n      });\r\n\r\n      const {\r\n        userLogin: { userInfo },\r\n      } = getState();\r\n\r\n      const config = {\r\n        headers: {\r\n          \"Content-type\": \"application/json\",\r\n          Authorization: `Bearer ${userInfo.token}`,\r\n        },\r\n      };\r\n\r\n      const { data } = await axios.post(\r\n        `/api/products/${productId}/reviews/`,\r\n        review,\r\n        config\r\n      );\r\n\r\n      dispatch({\r\n        type: actionTypes.PRODUCT_CREATE_REVIEW_SUCCESS,\r\n        payload: data,\r\n      });\r\n    } catch (error) {\r\n      dispatch({\r\n        type: actionTypes.PRODUCT_CREATE_REVIEW_FAIL,\r\n        payload:\r\n          error.response && error.response.data.detail\r\n            ? error.response.data.detail\r\n            : error.message,\r\n      });\r\n    }\r\n  };\r\n\r\nexport const listTopProducts = () => async (dispatch) => {\r\n  try {\r\n    dispatch({ type: actionTypes.PRODUCT_TOP_REQUEST });\r\n    const { data } = await axios.get(`/api/products/top/`);\r\n    dispatch({ type: actionTypes.PRODUCT_TOP_SUCCESS, payload: data });\r\n  } catch (error) {\r\n    dispatch({\r\n      type: actionTypes.PRODUCT_TOP_FAIL,\r\n      payload:\r\n        error.response && error.response.data.detail\r\n          ? error.response.data.detail\r\n          : error.message,\r\n    });\r\n  }\r\n};\r\n","import React from \"react\";\r\nimport { Alert } from \"react-bootstrap\";\r\n\r\nfunction Message({ variant, children }) {\r\n  return <Alert variant={variant}>{children}</Alert>;\r\n}\r\n\r\nexport default Message;\r\n","import React from \"react\";\r\n\r\nfunction Rating({ value, text, color }) {\r\n  return (\r\n    <div className=\"rating\">\r\n      <span>\r\n        <i\r\n          style={{ color }}\r\n          className={\r\n            value >= 1\r\n              ? \"fas fa-star\"\r\n              : value >= 0.5\r\n              ? \"fas fa-star-half-alt\"\r\n              : \"far fa-star\"\r\n          }\r\n        ></i>\r\n      </span>\r\n      <span>\r\n        <i\r\n          style={{ color }}\r\n          className={\r\n            value >= 2\r\n              ? \"fas fa-star\"\r\n              : value >= 1.5\r\n              ? \"fas fa-star-half-alt\"\r\n              : \"far fa-star\"\r\n          }\r\n        ></i>\r\n      </span>\r\n      <span>\r\n        <i\r\n          style={{ color }}\r\n          className={\r\n            value >= 3\r\n              ? \"fas fa-star\"\r\n              : value >= 2.5\r\n              ? \"fas fa-star-half-alt\"\r\n              : \"far fa-star\"\r\n          }\r\n        ></i>\r\n      </span>\r\n      <span>\r\n        <i\r\n          style={{ color }}\r\n          className={\r\n            value >= 4\r\n              ? \"fas fa-star\"\r\n              : value >= 3.5\r\n              ? \"fas fa-star-half-alt\"\r\n              : \"far fa-star\"\r\n          }\r\n        ></i>\r\n      </span>\r\n      <span>\r\n        <i\r\n          style={{ color }}\r\n          className={\r\n            value >= 5\r\n              ? \"fas fa-star\"\r\n              : value >= 4.5\r\n              ? \"fas fa-star-half-alt\"\r\n              : \"far fa-star\"\r\n          }\r\n        ></i>\r\n      </span>\r\n      <span>{text && text}</span>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Rating;\r\n","import React, { useState, useEffect } from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\nimport {\r\n  Row,\r\n  Col,\r\n  Image,\r\n  ListGroup,\r\n  Button,\r\n  Card,\r\n  Form,\r\n  FormGroup,\r\n} from \"react-bootstrap\";\r\nimport Rating from \"../components/Rating\";\r\nimport { useMatch, useNavigate } from \"react-router-dom\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport {\r\n  listProductDetails,\r\n  createProductReview,\r\n} from \"../actions/productActions\";\r\nimport Loader from \"../components/Loader\";\r\nimport Message from \"../components/Message\";\r\nimport { PRODUCT_CREATE_REVIEW_RESET } from \"../constants/productConstants\";\r\n\r\nfunction ProductScreen() {\r\n  const navigate = useNavigate();\r\n  const dispatch = useDispatch();\r\n  const match = useMatch(\"/products/:id\");\r\n\r\n  const productDetails = useSelector((state) => state.productDetails);\r\n  const { error, loading, product } = productDetails;\r\n\r\n  const userLogin = useSelector((state) => state.userLogin);\r\n  const { userInfo } = userLogin;\r\n\r\n  const productReviewCreate = useSelector((state) => state.productReviewCreate);\r\n  const {\r\n    loading: loadingProductReview,\r\n    error: errorProductReview,\r\n    success: successProductReview,\r\n  } = productReviewCreate;\r\n\r\n  const [qty, setQty] = useState(1);\r\n  const [rating, setRating] = useState(0);\r\n  const [comment, setComment] = useState(\"\");\r\n\r\n  useEffect(() => {\r\n    if (successProductReview) {\r\n      setRating(0);\r\n      setComment(\"\");\r\n      dispatch({ type: PRODUCT_CREATE_REVIEW_RESET });\r\n    }\r\n    dispatch(listProductDetails(match.params.id));\r\n  }, [dispatch, match.params.id, successProductReview, errorProductReview]);\r\n\r\n  const addToCartHandler = () => {\r\n    navigate(`/cart/${match.params.id}?qty=${qty}`);\r\n  };\r\n\r\n  const submitHandler = (e) => {\r\n    e.preventDefault();\r\n    dispatch(\r\n      createProductReview(match.params.id, {\r\n        rating,\r\n        comment,\r\n      })\r\n    );\r\n  };\r\n  return (\r\n    <React.Fragment>\r\n      <Link to=\"/\" className=\"btn btn-light my-3\">\r\n        Go Back\r\n      </Link>\r\n      {loading ? (\r\n        <Loader />\r\n      ) : error ? (\r\n        <Message variant=\"danger\">{error}</Message>\r\n      ) : (\r\n        <div>\r\n          <Row>\r\n            <Col md={6}>\r\n              <Image src={product.image} alt={product.name} fluid />\r\n            </Col>\r\n            <Col md={3}>\r\n              <ListGroup variant=\"flush\">\r\n                <ListGroup.Item>{product.name}</ListGroup.Item>\r\n                <ListGroup.Item>\r\n                  <Rating\r\n                    value={product.rating}\r\n                    text={`${product.numReviews} reviews`}\r\n                    color={\"#f8e825\"}\r\n                  />\r\n                </ListGroup.Item>\r\n                <ListGroup.Item>Price: ${product.price}</ListGroup.Item>\r\n                <ListGroup.Item>\r\n                  Description: {product.description}\r\n                </ListGroup.Item>\r\n              </ListGroup>\r\n            </Col>\r\n            <Col>\r\n              <Card>\r\n                <ListGroup variant=\"flush\">\r\n                  <ListGroup.Item>\r\n                    <Row>\r\n                      <Col>Price:</Col>\r\n                      <Col>\r\n                        <strong>${product.price}</strong>\r\n                      </Col>\r\n                    </Row>\r\n                  </ListGroup.Item>\r\n                  <ListGroup.Item>\r\n                    <Row>\r\n                      <Col>Status:</Col>\r\n                      <Col>\r\n                        {product.countInStock > 0 ? \"In Stock\" : \"Out of Stock\"}\r\n                      </Col>\r\n                    </Row>\r\n                  </ListGroup.Item>\r\n\r\n                  {product.countInStock > 0 && (\r\n                    <ListGroup.Item>\r\n                      <Row>\r\n                        <Col>Qty</Col>\r\n                        <Col xs={\"auto\"} className=\"my-1\">\r\n                          <Form.Control\r\n                            as=\"select\"\r\n                            value={qty}\r\n                            onChange={(e) => setQty(e.target.value)}\r\n                          >\r\n                            {[...Array(product.countInStock).keys()].map(\r\n                              (x) => (\r\n                                <option key={x + 1}>{x + 1}</option>\r\n                              )\r\n                            )}\r\n                          </Form.Control>\r\n                        </Col>\r\n                      </Row>\r\n                    </ListGroup.Item>\r\n                  )}\r\n\r\n                  <ListGroup.Item>\r\n                    <Row>\r\n                      <Button\r\n                        disabled={product.countInStock === 0}\r\n                        className=\"btn-block\"\r\n                        type=\"button\"\r\n                        onClick={addToCartHandler}\r\n                      >\r\n                        Add To Cart\r\n                      </Button>\r\n                    </Row>\r\n                  </ListGroup.Item>\r\n                </ListGroup>\r\n              </Card>\r\n            </Col>\r\n          </Row>\r\n          <Row>\r\n            <Col md={6}>\r\n              <h4>Reviews</h4>\r\n              {product.reviews.length === 0 && (\r\n                <Message variant=\"info\">No reviews</Message>\r\n              )}\r\n              <ListGroup variant=\"flush\">\r\n                {product.reviews.map((review) => (\r\n                  <ListGroup.Item key={review._id}>\r\n                    <strong>{review.name}</strong>\r\n                    <Rating value={review.rating} color=\"#f8e825\" />\r\n                    <p>{review.createdAt.substring(0, 10)}</p>\r\n                    <p>{review.comment}</p>\r\n                  </ListGroup.Item>\r\n                ))}\r\n\r\n                <ListGroup.Item>\r\n                  <h4>Write a review</h4>\r\n                  {loadingProductReview && <Loader />}\r\n                  {successProductReview && (\r\n                    <Message variant=\"success\">Review Submitted</Message>\r\n                  )}\r\n                  {errorProductReview && (\r\n                    <Message variant=\"danger\">{errorProductReview}</Message>\r\n                  )}\r\n\r\n                  {userInfo ? (\r\n                    <Form onSubmit={submitHandler}>\r\n                      <Form.Group controlId=\"rating\">\r\n                        <Form.Label>Rating</Form.Label>\r\n                        <Form.Control\r\n                          as=\"select\"\r\n                          value={rating}\r\n                          onChange={(e) => setRating(e.target.value)}\r\n                        >\r\n                          <option value=\"\">Select...</option>\r\n                          <option value=\"1\">1 - Poor</option>\r\n                          <option value=\"2\">2 - Fair</option>\r\n                          <option value=\"3\">3 - Good</option>\r\n                          <option value=\"4\">4 - Very Good</option>\r\n                          <option value=\"5\">5 - Excelent</option>\r\n                        </Form.Control>\r\n                      </Form.Group>\r\n\r\n                      <FormGroup controlId=\"comment\">\r\n                        <Form.Label>Review</Form.Label>\r\n                        <Form.Control\r\n                          as=\"textarea\"\r\n                          row=\"5\"\r\n                          value={comment}\r\n                          onChange={(e) => setComment(e.target.value)}\r\n                        ></Form.Control>\r\n                      </FormGroup>\r\n\r\n                      <Button\r\n                        disabled={loadingProductReview}\r\n                        type=\"submit\"\r\n                        className=\"my-3\"\r\n                        variant=\"primary\"\r\n                      >\r\n                        Submit\r\n                      </Button>\r\n                    </Form>\r\n                  ) : (\r\n                    <Message variant=\"info\">\r\n                      Please <Link to=\"/login\">Log In</Link> tto write review\r\n                    </Message>\r\n                  )}\r\n                </ListGroup.Item>\r\n              </ListGroup>\r\n            </Col>\r\n          </Row>\r\n        </div>\r\n      )}\r\n    </React.Fragment>\r\n  );\r\n}\r\n\r\nexport default ProductScreen;\r\n"],"names":["listProducts","keyword","dispatch","type","actionTypes","axios","data","payload","response","detail","message","listProductDetails","id","deleteProduct","getState","userInfo","userLogin","config","headers","Authorization","token","createProduct","updateProduct","product","_id","createProductReview","productId","review","listTopProducts","variant","children","value","text","color","className","style","navigate","useNavigate","useDispatch","match","useMatch","productDetails","useSelector","state","error","loading","productReviewCreate","loadingProductReview","errorProductReview","successProductReview","success","useState","qty","setQty","rating","setRating","comment","setComment","useEffect","PRODUCT_CREATE_REVIEW_RESET","params","Link","to","md","src","image","alt","name","fluid","numReviews","price","description","countInStock","xs","as","onChange","e","target","Array","keys","map","x","disabled","onClick","reviews","length","createdAt","substring","onSubmit","preventDefault","controlId","row"],"sourceRoot":""}