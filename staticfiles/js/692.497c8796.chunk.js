"use strict";(self.webpackChunkfrontend=self.webpackChunkfrontend||[]).push([[692],{3281:function(e,t,r){r.d(t,{LV:function(){return l},s$:function(){return u},_r:function(){return p},rC:function(){return f},rt:function(){return h},Vi:function(){return v}});var n=r(5861),a=r(7757),s=r.n(a),o=r(3475),i=r(4569),c=r.n(i),d=r(7254),l=function(e){return function(){var t=(0,n.Z)(s().mark((function t(r,n){var a,i,l,u,p;return s().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,r({type:o.H4}),a=n(),i=a.userLogin.userInfo,l={headers:{"Content-type":"application/json",Authorization:"Bearer ".concat(i.token)}},t.next=6,c().post("/api/order/add/",e,l);case 6:u=t.sent,p=u.data,r({type:o.cj,payload:p}),r({type:d.Tc,payload:p}),localStorage.removeItem("cartItems"),t.next=16;break;case 13:t.prev=13,t.t0=t.catch(0),r({type:o.yR,payload:t.t0.response&&t.t0.response.data.detail?t.t0.response.data.detail:t.t0.message});case 16:case"end":return t.stop()}}),t,null,[[0,13]])})));return function(e,r){return t.apply(this,arguments)}}()},u=function(e){return function(){var t=(0,n.Z)(s().mark((function t(r,n){var a,i,d,l,u;return s().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,r({type:o.Gk}),a=n(),i=a.userLogin.userInfo,d={headers:{"Content-type":"application/json",Authorization:"Bearer ".concat(i.token)}},t.next=6,c().get("/api/order/".concat(e,"/"),d);case 6:l=t.sent,u=l.data,r({type:o.um,payload:u}),t.next=14;break;case 11:t.prev=11,t.t0=t.catch(0),r({type:o.Ab,payload:t.t0.response&&t.t0.response.data.detail?t.t0.response.data.detail:t.t0.message});case 14:case"end":return t.stop()}}),t,null,[[0,11]])})));return function(e,r){return t.apply(this,arguments)}}()},p=function(e,t){return function(){var r=(0,n.Z)(s().mark((function r(n,a){var i,d,l,u,p;return s().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,n({type:o.Q1}),i=a(),d=i.userLogin.userInfo,l={headers:{"Content-type":"application/json",Authorization:"Bearer ".concat(d.token)}},r.next=6,c().put("/api/order/".concat(e,"/"),t,l);case 6:u=r.sent,p=u.data,n({type:o.jK,payload:p}),r.next=14;break;case 11:r.prev=11,r.t0=r.catch(0),n({type:o.iF,payload:r.t0.response&&r.t0.response.data.detail?r.t0.response.data.detail:r.t0.message});case 14:case"end":return r.stop()}}),r,null,[[0,11]])})));return function(e,t){return r.apply(this,arguments)}}()},f=function(e){return function(){var t=(0,n.Z)(s().mark((function t(r,n){var a,i,d,l,u;return s().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,r({type:o.iI}),a=n(),i=a.userLogin.userInfo,d={headers:{"Content-type":"application/json",Authorization:"Bearer ".concat(i.token)}},t.next=6,c().put("/api/orders/".concat(e._id,"/deliver/"),{},d);case 6:l=t.sent,u=l.data,r({type:o.c0,payload:u}),t.next=14;break;case 11:t.prev=11,t.t0=t.catch(0),r({type:o.ol,payload:t.t0.response&&t.t0.response.data.detail?t.t0.response.data.detail:t.t0.message});case 14:case"end":return t.stop()}}),t,null,[[0,11]])})));return function(e,r){return t.apply(this,arguments)}}()},h=function(){return function(){var e=(0,n.Z)(s().mark((function e(t,r){var n,a,i,d,l;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t({type:o.Cg}),n=r(),a=n.userLogin.userInfo,i={headers:{"Content-type":"application/json",Authorization:"Bearer ".concat(a.token)}},e.next=6,c().get("/api/orders/myorders/",i);case 6:d=e.sent,l=d.data,t({type:o.s_,payload:l}),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(0),t({type:o.qN,payload:e.t0.response&&e.t0.response.data.detail?e.t0.response.data.detail:e.t0.message});case 14:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(t,r){return e.apply(this,arguments)}}()},v=function(){return function(){var e=(0,n.Z)(s().mark((function e(t,r){var n,a,i,d,l;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t({type:o.cB}),n=r(),a=n.userLogin.userInfo,i={headers:{"Content-type":"application/json",Authorization:"Bearer ".concat(a.token)}},e.next=6,c().get("/api/orders/",i);case 6:d=e.sent,l=d.data,t({type:o.zL,payload:l}),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(0),t({type:o.E0,payload:e.t0.response&&e.t0.response.data.detail?e.t0.response.data.detail:e.t0.message});case 14:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(t,r){return e.apply(this,arguments)}}()}},5006:function(e,t,r){r(2791);var n=r(2469),a=r(184);t.Z=function(e){var t=e.variant,r=e.children;return(0,a.jsx)(n.Z,{variant:t,children:r})}},3692:function(e,t,r){r.r(t);var n=r(2791),a=r(1564),s=r(2591),o=r(2592),i=r(5006),c=r(6030),d=r(3281),l=r(6871),u=r(184);t.default=function(){var e=(0,c.I0)(),t=(0,l.s0)(),r=(0,c.v9)((function(e){return e.orderList})),p=r.loading,f=r.error,h=r.orders,v=(0,c.v9)((function(e){return e.userLogin})).userInfo;return(0,n.useEffect)((function(){v&&v.isAdmin?e((0,d.Vi)()):t("/")}),[e,t,v]),(0,u.jsxs)(n.Fragment,{children:[(0,u.jsx)("h1",{children:"Orders"}),p?(0,u.jsx)(o.Z,{}):f?(0,u.jsx)(i.Z,{variant:"danger",children:f}):(0,u.jsxs)(s.Z,{striped:!0,bordered:!0,hover:!0,responsive:!0,className:"table-sm",children:[(0,u.jsx)("thead",{children:(0,u.jsxs)("tr",{children:[(0,u.jsx)("th",{children:"ID"}),(0,u.jsx)("th",{children:"User"}),(0,u.jsx)("th",{children:"Date"}),(0,u.jsx)("th",{children:"TotalPrice"}),(0,u.jsx)("th",{children:"Paid"}),(0,u.jsx)("th",{children:"Delivered"}),(0,u.jsx)("th",{})]})}),(0,u.jsx)("tbody",{children:h.map((function(e){return(0,u.jsxs)("tr",{children:[(0,u.jsx)("td",{children:e._id}),(0,u.jsx)("td",{children:e.user&&e.user.name}),(0,u.jsx)("td",{children:e.createdAt.substring(0,10)}),(0,u.jsxs)("td",{children:["$",e.totalPrice]}),(0,u.jsx)("td",{children:e.isPaid?e.paidAt:(0,u.jsx)("i",{className:"fas fa-times",style:{color:"red"}})}),(0,u.jsx)("td",{children:e.isDelivered?e.deliveredAt:(0,u.jsx)("i",{className:"fas fa-times",style:{color:"red"}})}),(0,u.jsx)("td",{children:(0,u.jsx)(a.J,{to:"/order/".concat(e._id),children:(0,u.jsx)("button",{variant:"primary",className:"btn danger",children:"Details"})})})]},e._id)}))})]})]})}},2469:function(e,t,r){var n=r(1413),a=r(5987),s=r(1694),o=r.n(s),i=r(2791),c=r(239),d=r(9007),l=r(6445),u=r(162),p=r(2709),f=r(473),h=r(7472),v=r(6543),x=r(184),y=["bsPrefix","show","closeLabel","closeVariant","className","children","variant","onClose","dismissible","transition"],m=(0,h.Z)("h4");m.displayName="DivStyledAsH4";var j=(0,v.Z)("alert-heading",{Component:m}),b=(0,v.Z)("alert-link",{Component:l.Z}),Z={variant:"primary",show:!0,transition:p.Z,closeLabel:"Close alert"},g=i.forwardRef((function(e,t){var r=(0,c.Ch)(e,{show:"onClose"}),s=r.bsPrefix,i=r.show,l=r.closeLabel,h=r.closeVariant,v=r.className,m=r.children,j=r.variant,b=r.onClose,Z=r.dismissible,g=r.transition,k=(0,a.Z)(r,y),w=(0,u.vE)(s,"alert"),C=(0,d.Z)((function(e){b&&b(!1,e)})),L=!0===g?p.Z:g,N=(0,x.jsxs)("div",(0,n.Z)((0,n.Z)({role:"alert"},L?void 0:k),{},{ref:t,className:o()(v,w,j&&"".concat(w,"-").concat(j),Z&&"".concat(w,"-dismissible")),children:[Z&&(0,x.jsx)(f.Z,{onClick:C,"aria-label":l,variant:h}),m]}));return L?(0,x.jsx)(L,(0,n.Z)((0,n.Z)({unmountOnExit:!0},k),{},{ref:void 0,in:i,children:N})):i?N:null}));g.displayName="Alert",g.defaultProps=Z,t.Z=Object.assign(g,{Link:b,Heading:j})},2591:function(e,t,r){var n=r(1413),a=r(5987),s=r(1694),o=r.n(s),i=r(2791),c=r(162),d=r(184),l=["bsPrefix","className","striped","bordered","borderless","hover","size","variant","responsive"],u=i.forwardRef((function(e,t){var r=e.bsPrefix,s=e.className,i=e.striped,u=e.bordered,p=e.borderless,f=e.hover,h=e.size,v=e.variant,x=e.responsive,y=(0,a.Z)(e,l),m=(0,c.vE)(r,"table"),j=o()(s,m,v&&"".concat(m,"-").concat(v),h&&"".concat(m,"-").concat(h),i&&"".concat(m,"-striped"),u&&"".concat(m,"-bordered"),p&&"".concat(m,"-borderless"),f&&"".concat(m,"-hover")),b=(0,d.jsx)("table",(0,n.Z)((0,n.Z)({},y),{},{className:j,ref:t}));if(x){var Z="".concat(m,"-responsive");return"string"===typeof x&&(Z="".concat(Z,"-").concat(x)),(0,d.jsx)("div",{className:Z,children:b})}return b}));t.Z=u}}]);
//# sourceMappingURL=692.497c8796.chunk.js.map