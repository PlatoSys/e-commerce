"use strict";(self.webpackChunkfrontend=self.webpackChunkfrontend||[]).push([[529],{692:function(n,t,r){r.d(t,{Xq:function(){return o},h2:function(){return d},q7:function(){return l},BX:function(){return f}});var e=r(5861),c=r(7757),a=r.n(c),i=r(4569),s=r.n(i),u=r(7254),o=function(n,t){return function(){var r=(0,e.Z)(a().mark((function r(e,c){var i,o;return a().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,s().get("/api/products/".concat(n));case 2:i=r.sent,o=i.data,e({type:u.Nw,payload:{product:o._id,name:o.name,image:o.image,price:o.price,countInStock:o.countInStock,qty:parseInt(t)}}),localStorage.setItem("cartItems",JSON.stringify(c().cart.cartItems));case 6:case"end":return r.stop()}}),r)})));return function(n,t){return r.apply(this,arguments)}}()},d=function(n){return function(){var t=(0,e.Z)(a().mark((function t(r,e){return a().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:r({type:u.aR,payload:n}),localStorage.setItem("cartItems",JSON.stringify(e().cart.cartItems));case 2:case"end":return t.stop()}}),t)})));return function(n,r){return t.apply(this,arguments)}}()},l=function(n){return function(){var t=(0,e.Z)(a().mark((function t(r){return a().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:r({type:u.ko,payload:n}),localStorage.setItem("shippingAddress",JSON.stringify(n));case 2:case"end":return t.stop()}}),t)})));return function(n){return t.apply(this,arguments)}}()},f=function(n){return function(){var t=(0,e.Z)(a().mark((function t(r){return a().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:r({type:u.TU,payload:n}),localStorage.setItem("paymentMethod",JSON.stringify(n));case 2:case"end":return t.stop()}}),t)})));return function(n){return t.apply(this,arguments)}}()}},5006:function(n,t,r){r(2791);var e=r(2469),c=r(184);t.Z=function(n){var t=n.variant,r=n.children;return(0,c.jsx)(e.Z,{variant:t,children:r})}},3529:function(n,t,r){r.r(t);var e=r(2982),c=r(885),a=r(2791),i=r(6871),s=r(3504),u=r(6030),o=r(9743),d=r(2677),l=r(1398),f=r(4523),p=r(160),h=r(3360),m=r(9140),x=r(5006),j=r(692),Z=(r(2592),r(184));t.default=function(){var n=(0,u.I0)(),t=(0,i.s0)(),r=(0,s.useSearchParams)(),y=(0,c.Z)(r,1)[0].get("qty"),v=(0,i.bS)("/cart/:id"),g=v?v.params.id:null,k=(0,u.v9)((function(n){return n.cart})).cartItems;return(0,a.useEffect)((function(){g&&n((0,j.Xq)(g,y))}),[n,g,y]),(0,Z.jsx)(a.Fragment,{children:(0,Z.jsxs)(o.Z,{children:[(0,Z.jsxs)(d.Z,{md:8,children:[(0,Z.jsx)("h1",{children:"Shopping Cart"}),0===k.length?(0,Z.jsxs)(x.Z,{variant:"info",children:["Your Cart is Empty ",(0,Z.jsx)(s.Link,{to:"/",children:"Go Back"})]}):(0,Z.jsx)(l.Z,{variant:"flush",children:k.map((function(t){return(0,Z.jsx)(l.Z.Item,{children:(0,Z.jsxs)(o.Z,{children:[(0,Z.jsx)(d.Z,{md:2,children:(0,Z.jsx)(f.Z,{src:t.image,alt:t.name,fluid:!0,rounded:!0})}),(0,Z.jsx)(d.Z,{md:3,children:(0,Z.jsx)(s.Link,{to:"/products/".concat(t.product),children:t.name})}),(0,Z.jsxs)(d.Z,{md:2,children:["$",t.price]}),(0,Z.jsx)(d.Z,{md:3,children:(0,Z.jsx)(p.Z.Control,{as:"select",value:t.qty,onChange:function(r){return n((0,j.Xq)(t.product,r.target.value))},children:(0,e.Z)(Array(t.countInStock).keys()).map((function(n){return(0,Z.jsx)("option",{children:n+1},n+1)}))})}),(0,Z.jsx)(d.Z,{md:1,children:(0,Z.jsx)(h.Z,{type:"button",variant:"light",onClick:function(){return r=t.product,void n((0,j.h2)(r));var r},children:(0,Z.jsx)("i",{className:"fas fa-trash"})})})]})},t.product)}))})]}),(0,Z.jsx)(d.Z,{md:4,children:(0,Z.jsx)(m.Z,{children:(0,Z.jsxs)(l.Z,{variant:"flush",children:[(0,Z.jsxs)(l.Z.Item,{children:[(0,Z.jsxs)("h2",{children:["Subtotal (",k.reduce((function(n,t){return n+t.qty}),0),") items"]}),"$",k.reduce((function(n,t){return n+t.qty*t.price}),0).toFixed(2)]}),(0,Z.jsx)(l.Z.Item,{children:(0,Z.jsx)(h.Z,{type:"button",className:"w-100",disabled:0===k.length,onClick:function(){t("/shipping")},children:"Proceed to Checkout"})})]})})})]})})}}}]);
//# sourceMappingURL=529.839ee5ca.chunk.js.map